
Hi there. This is my original BNF(-alike) for LACRETNI.
It differs in small details from the in-use one, of course
see main.y for the up-to-date equivalent.

%%

'float' -> TYPE
'@' TYPE -> TYPE

( TYPE -> TYPELISTa
TYPELISTa , TYPE -> TYPELISTa
TYPELISTa ) -> TYPELIST

TYPE ID -> ITYPE

( ITYPE -> ITYPELISTa
ITYPELISTa , ITYPE -> ITYPELISTa
ITYPELISTa ) -> ITYPELIST

'func' TYPELIST ID ITYPELIST ; -> PROTOTYPE
'func' TYPELIST ID TYPELIST ; -> PROTOTYPE

'func' TYPELIST ID TYPELIST ; -> PROTOTYPE

'func' TYPELIST ID TYPELIST STATEMENT -> FUNCTION

{ STMLIST } -> STATEMENT
STATEMENT -> STMLIST
STMLIST STATEMENT -> STMLIST

ITYPE ; -> STATEMENT (VARDEF)

IGNORE -> VAR (NULL)
ID -> VAR
VALUE -> VAR (CONST)

'straddr' ( STRING ) -> VAR
'strlen' ( STRING ) -> VAR

[ VAR -> REGLISTa
REGLISTa , VAR -> REGLISTa
REGLISTa ] -> REGLIST

VAR=VAR ; -> STATEMENT
VAR=@VAR ; -> STATEMENT
VAR+=VAR ; -> STATEMENT
VAR-=VAR ; -> STATEMENT
VAR/=VAR ; -> STATEMENT
VAR*=VAR ; -> STATEMENT
VAR>>=VAR ; -> STATEMENT
VAR<<=VAR ; -> STATEMENT

ID : -> STATEMENT (LABEL)

'goto' ID ; -> STATEMENT
'handler' ID ; -> STATEMENT

'IF' VAR == VAR GOTO ID ; -> STATEMENT
'IF' VAR != VAR GOTO ID ; -> STATEMENT
'IF' VAR > VAR GOTO ID ; -> STATEMENT
'IF' VAR < VAR GOTO ID ; -> STATEMENT

ID REGLIST ; -> STATEMENT (SET and CALL)
REGLIST = ; -> STATEMENT (REGDEREF)
REGLIST = ID REGLIST ; -> STATEMENT (SET, CALL and REGREF)
REGLIST ; -> STATEMENT (SET)
'return' ; -> STATEMENT
'return' REGLIST -> STATEMENT (SET and RET)
